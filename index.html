<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<title>GIS 라이트</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=5f253bed8a8966a66fc9076b662663fd&libraries=services&autoload=false"></script>
<link rel="stylesheet" href="https://hamancctv.github.io/2/style.css" />

<style>
html,body{height:100%;margin:0;}
#container{position:relative;height:100%;overflow:hidden;}
#mapWrapper{position:relative;width:100%;height:100%;z-index:1;}
#map{width:100%;height:100%;}
#rvWrapper{position:absolute;inset:0;display:none;z-index:0;}
#roadview{width:100%;height:100%;}
.view_roadview #rvWrapper{display:block;z-index:1;}
.view_roadview #mapWrapper{
  position:absolute;left:8px;bottom:8px;width:26%;height:26%;
  min-width:200px;min-height:150px;border:2px solid #ccc;border-radius:8px;
  background:#fff;z-index:2;box-shadow:0 8px 24px rgba(0,0,0,.2);
}
#close{position:absolute;top:8px;left:8px;padding:6px;background:#fff;
  border:1px solid #c8c8c8;border-radius:6px;cursor:pointer;z-index:3;box-shadow:0 1px #888;}
#close .img{display:block;width:14px;height:14px;
  background:url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/rv_close.png) no-repeat;}
.toolbar{position:fixed;top:60px;left:10px;display:flex;flex-direction:column;gap:8px;z-index:10;}
.btn-satellite,#roadviewControl{
  width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;
  border:1px solid #ccc;border-radius:8px;background:#fff;color:#555;cursor:pointer;
  transition:all .2s ease;box-sizing:border-box;
}
.btn-satellite:hover,#roadviewControl:hover{box-shadow:0 3px 12px rgba(0,0,0,.12);}
.btn-satellite.selected{border-color:#007aff;box-shadow:0 0 0 2px rgba(0,122,255,.15) inset;color:#007aff;}
.btn-satellite svg{width:18px;height:18px;display:block;}
.btn-satellite svg circle{fill:currentColor;}
#roadviewControl.active{
  border-color:#007aff;box-shadow:0 0 0 2px rgba(0,122,255,.15) inset;color:#007aff;
}
#roadviewControl::before{
  content:"";width:18px;height:18px;border-radius:50%;
  display:block;background:radial-gradient(#fff 0 28%,currentColor 29% 100%);
}

/* 제안창/입력창 z-index 상단 고정 */
.gx-suggest-root{z-index:99999!important;}
#btnGroupMST,#btnDistance,#roadviewControl,#btnSatellite{z-index:99998!important;}
</style>
</head>

<body>
<div id="container">
  <div id="mapWrapper">
    <div id="map"></div>
    <div class="toolbar">
      <button id="btnSatellite" class="btn-satellite" title="위성뷰">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9"/></svg>
      </button>
      <button id="roadviewControl" title="로드뷰"></button>
    </div>
  </div>
  <div id="rvWrapper">
    <div id="roadview"></div>
    <div id="close" title="로드뷰 닫기"><span class="img"></span></div>
  </div>
</div>

<!-- 외부 스크립트 -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
  <script src="https://hamancctv.github.io/2/markers-handler.js"></script>
<script src="https://hamancctv.github.io/2/search-suggest.js"></script>

<script src="https://hamancctv.github.io/2/btnDistance.js"></script>
<script src="https://hamancctv.github.io/2/drawGroupLinesMST.js"></script>



<script>
kakao.maps.load(function(){
  const center = new kakao.maps.LatLng(35.2725308711779,128.406307024695);
  const map = new kakao.maps.Map(document.getElementById("map"), { center, level:4 });
  if (typeof initSuggestUI === 'function') {
    initSuggestUI({
      map,
      data: window.SEL_SUGGEST || [],
      parent: document.getElementById("mapWrapper"),
      getMarkers: () => window.markers,
      badges: ["line","enclosure","address","ip","group"],
      hideOnRoadview:false
    });
  }
});
</script>
</body>
</html>
